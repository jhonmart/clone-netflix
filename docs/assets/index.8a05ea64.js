var I=Object.defineProperty;var L=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var E=(t,a,n)=>a in t?I(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,N=(t,a)=>{for(var n in a||(a={}))D.call(a,n)&&E(t,n,a[n]);if(L)for(var n of L(a))j.call(a,n)&&E(t,n,a[n]);return t};import{j as F,R as g,r as d,N as B,a as O,b as T}from"./vendor.400010eb.js";const H=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}};H();const e=F.exports.jsx,c=F.exports.jsxs;function Y(t){return c("header",{className:t.black?"black":"",children:[e("div",{className:"header--logo",children:e("a",{href:"./",children:e("img",{alt:"Logo main",src:"https://upload.wikimedia.org/wikipedia/commons/0/08/Netflix_2015_logo.svg"})})}),e("div",{className:"header--user",children:e("a",{href:"./user",children:e("img",{alt:"Logo user default",src:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Netflix-avatar.png"})})})]})}function P(){return c("footer",{children:["Feito com ",e("span",{role:"img","aria-label":"cora\xE7\xE3o",children:"\u2764\uFE0F"})," e React"]})}function z(){return e("div",{className:"loading",children:e("img",{alt:"Load icon",src:"https://assets.nflxext.com/en_us/pages/wiplayer/site-spinner.png"})})}function C(t){var r,s,u;const a="https://image.tmdb.org/t/p/original",n=new Date(t.movie.first_air_date),o=(r=t.movie.genres)==null?void 0:r.map(w=>w.name),i=200;return e(g.Fragment,{children:e("section",{className:"featured",style:{backgroundSize:"cover",backgroundPosition:"center",backgroundImage:`url(${a}${t.movie.backdrop_path})`},children:e("div",{className:"featured--vertical",children:c("div",{className:"featured--horizontal",children:[e("div",{className:"featured--name",children:t.movie.original_name}),c("div",{className:"featured--info",children:[c("div",{className:"featured--points",children:[t.movie.vote_average," pontos"]}),e("div",{className:"featured--year",children:n.getFullYear()}),c("div",{className:"featured--seasons",children:[t.movie.number_of_seasons," temporada",t.movie.number_of_seasons!==1&&"s"]})]}),c("div",{className:"featured--description",children:[(s=t.movie.overview)==null?void 0:s.slice(0,i).trim(),((u=t.movie.overview)==null?void 0:u.length)>i&&"..."]}),c("div",{className:"featured--buttons",children:[e("a",{href:`/watch/${t.movie.id}`,className:"featured--watchbutton",children:"\u25BA Assistir"}),e("a",{href:`/list/add/${t.movie.id}`,className:"featured--mylistbutton",children:"+ Minha Lista"})]}),(o==null?void 0:o.length)?c("div",{className:"featured--genres",children:["G\xEAneros: ",o.join(", ")]}):e("span",{})]})})})})}function U(t){const[a,n]=d.exports.useState(-400),o="https://image.tmdb.org/t/p/w300",i=()=>{const s=a+Math.round(window.innerWidth/2);n(s>0?0:s)},r=()=>{const s=window.innerWidth-t.items.results.length*150,u=a-Math.round(window.innerWidth/2);n(s>u?s-60:u)};return e(g.Fragment,{children:c("div",{className:"movieRow",children:[e("h2",{children:t.title}),e("div",{className:"movieRow--left",onClick:i,children:e(B,{style:{fontSize:50}})}),e("div",{className:"movieRow--right",onClick:r,children:e(O,{style:{fontSize:50}})}),e("div",{className:"movieRow--listarea",children:e("div",{className:"movieRow--list",style:{marginLeft:a,width:t.items.results.length*150},children:t.items.results.map((s,u)=>e("div",{className:"movieRow--item",children:e("img",{src:`${o}${s.poster_path}`,alt:s.original_title})},u))})})]})})}function q(t){var i;const a="https://image.tmdb.org/t/p/original",n=new Date(t.movie.first_air_date),o=(i=t.movie.genres)==null?void 0:i.map(r=>r.name);return e(g.Fragment,{children:c("section",{className:"banner",children:[e("img",{src:a+t.movie.backdrop_path,alt:"movies",className:"banner--image"}),e("div",{className:"banner--vertical",children:c("div",{className:"banner--horizontal",children:[e("div",{className:"banner--name",children:t.movie.original_name}),c("div",{className:"banner--info",children:[c("div",{className:"banner--points",children:[t.movie.vote_average," pontos"]}),e("div",{className:"banner--year",children:n.getFullYear()}),c("div",{className:"banner--seasons",children:[t.movie.number_of_seasons," temporada",t.movie.number_of_seasons!==1&&"s"]})]}),(o==null?void 0:o.length)?c("div",{className:"banner--genres",children:["G\xEAneros: ",o.join(", ")]}):""]})})]})})}const G="18f51557b115ce80fb270427b011ca46",V="https://api.themoviedb.org/3",m=async(t,a={})=>{const n=Object.entries(N({language:"pt-BR",api_key:G},a)).map(r=>r.join("=")).join("&");return await(await fetch(`${V}${t}${n?"?"+n:""}`)).json()},R={getHomeList:async()=>[{slug:"originals",title:"Originais do Netflix",items:await m("/discover/tv",{with_network:213})},{slug:"trending",title:"Recomendados oara Voc\xEA",items:await m("/trending/all/week")},{slug:"toprated",title:"Em Alta",items:await m("/movie/top_rated")},{slug:"action",title:"A\xE7\xE3o",items:await m("/discover/movie",{with_genres:28})},{slug:"comedy",title:"Com\xE9dia",items:await m("/discover/movie",{with_genres:35})},{slug:"horror",title:"Terror",items:await m("/discover/movie",{with_genres:27})},{slug:"romance",title:"Romance",items:await m("/discover/movie",{with_genres:10749})},{slug:"documentary",title:"Document\xE1rios",items:await m("/discover/movie",{with_genres:99})}],getMovieInfo:async(t,a)=>{switch(a){case"movie":return await m(`/movie/${t}`);case"tv":return await m(`/tv/${t}`)}}};function W(){const t="https://image.tmdb.org/t/p/original",a=60,[n,o]=d.exports.useState([]),[i,r]=d.exports.useState(!1),[s,u]=d.exports.useState(!1),[w,b]=d.exports.useState(Date.now()+a*1e3),[A,S]=d.exports.useState(Date.now()+a*500);let p=d.exports.useRef(0),_=d.exports.useRef(0);const k=async l=>new Promise((v,f)=>{const h=new Image;h.src=l,h.onload=()=>v(!0)}),y=async l=>{let v=Math.floor(Math.random()*(l.length-1)),f=l[v],h=await R.getMovieInfo(f.id,"tv");return await k(`${t}${h.backdrop_path}`),(A<Date.now()||!i)&&(r(h),S(Date.now()+a*500)),_.current=setTimeout(()=>{y(l)},15e3),()=>clearTimeout(_.current)},x=()=>{u(window.scrollY>10)};d.exports.useEffect(()=>{(async()=>{let v=await R.getHomeList();o(v);const f=v.find(h=>h.slug==="originals");if(f){const h=f.items.results.filter(M=>M.backdrop_path);await y(h)}})()},[]),d.exports.useEffect(()=>(window.addEventListener("scroll",x),()=>{window.removeEventListener("scroll",x)}),[]);const $=()=>b(l=>(document.body.style.overflowY=l>Date.now()?"auto":"hidden",l));return d.exports.useEffect(()=>(p.current=setInterval($,1e3),document.onmousemove=function(){document.body.style.overflowY="auto",b(Date.now()+a*1e3)},()=>{document.body.style.overflowY="auto",b(Date.now()+a*1e3),clearInterval(p.current)}),[]),c(g.Fragment,{children:[e(Y,{black:s}),i?e(C,{movie:i}):"",e("main",{className:"page",children:e("section",{className:"lists",children:n.map((l,v)=>e(U,N({},l),v))})}),e(P,{}),n.length&&i?"":e(z,{}),w<Date.now()&&i?e(q,{movie:i}):""]})}function K(){return e("div",{className:"App",children:e(W,{})})}T.render(e(g.StrictMode,{children:e(K,{})}),document.getElementById("root"));
