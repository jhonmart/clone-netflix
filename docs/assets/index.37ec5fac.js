var E=Object.defineProperty;var b=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var _=(t,i,o)=>i in t?E(t,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[i]=o,p=(t,i)=>{for(var o in i||(i={}))k.call(i,o)&&_(t,o,i[o]);if(b)for(var o of b(i))A.call(i,o)&&_(t,o,i[o]);return t};import{j as L,R as w,r as g,N as R,a as $,b as M}from"./vendor.400010eb.js";const F=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(a){if(a.ep)return;a.ep=!0;const r=o(a);fetch(a.href,r)}};F();const e=L.exports.jsx,c=L.exports.jsxs;function j(t){return c("header",{className:t.black?"black":"",children:[e("div",{className:"header--logo",children:e("a",{href:"./",children:e("img",{alt:"Logo main",src:"https://upload.wikimedia.org/wikipedia/commons/0/08/Netflix_2015_logo.svg"})})}),e("div",{className:"header--user",children:e("a",{href:"./user",children:e("img",{alt:"Logo user default",src:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Netflix-avatar.png"})})})]})}function I(){return c("footer",{children:["Feito com ",e("span",{role:"img","aria-label":"cora\xE7\xE3o",children:"\u2764\uFE0F"})," e React"]})}function S(){return e("div",{className:"loading",children:e("img",{alt:"Load icon",src:"https://media.filmelier.com/noticias/br/2020/03/Netflix_LoadTime.gif"})})}function B(t){var r,s,d;const i="https://image.tmdb.org/t/p/original",o=new Date(t.movie.first_air_date),n=(r=t.movie.genres)==null?void 0:r.map(v=>v.name),a=200;return e(w.Fragment,{children:e("section",{className:"featured",style:{backgroundSize:"cover",backgroundPosition:"center",backgroundImage:`url(${i}${t.movie.backdrop_path})`},children:e("div",{className:"featured--vertical",children:c("div",{className:"featured--horizontal",children:[e("div",{className:"featured--name",children:t.movie.original_name}),c("div",{className:"featured--info",children:[c("div",{className:"featured--points",children:[t.movie.vote_average," pontos"]}),e("div",{className:"featured--year",children:o.getFullYear()}),c("div",{className:"featured--seasons",children:[t.movie.number_of_seasons," temporada",t.movie.number_of_seasons!==1&&"s"]})]}),c("div",{className:"featured--description",children:[(s=t.movie.overview)==null?void 0:s.slice(0,a).trim(),((d=t.movie.overview)==null?void 0:d.length)>a&&"..."]}),c("div",{className:"featured--buttons",children:[e("a",{href:`/watch/${t.movie.id}`,className:"featured--watchbutton",children:"\u25BA Assistir"}),e("a",{href:`/list/add/${t.movie.id}`,className:"featured--mylistbutton",children:"+ Minha Lista"})]}),(n==null?void 0:n.length)?c("div",{className:"featured--genres",children:["G\xEAneros: ",n.join(", ")]}):e("span",{})]})})})})}function O(t){const[i,o]=g.exports.useState(-400),n="https://image.tmdb.org/t/p/w300",a=()=>{const s=i+Math.round(window.innerWidth/2);o(s>0?0:s)},r=()=>{const s=window.innerWidth-t.items.results.length*150,d=i-Math.round(window.innerWidth/2);o(s>d?s-60:d)};return e(w.Fragment,{children:c("div",{className:"movieRow",children:[e("h2",{children:t.title}),e("div",{className:"movieRow--left",onClick:a,children:e(R,{style:{fontSize:50}})}),e("div",{className:"movieRow--right",onClick:r,children:e($,{style:{fontSize:50}})}),e("div",{className:"movieRow--listarea",children:e("div",{className:"movieRow--list",style:{marginLeft:i,width:t.items.results.length*150},children:t.items.results.map((s,d)=>e("div",{className:"movieRow--item",children:e("img",{src:`${n}${s.poster_path}`,alt:s.original_title})},d))})})]})})}const D="18f51557b115ce80fb270427b011ca46",H="https://api.themoviedb.org/3",l=async(t,i={})=>{const o=Object.entries(p({language:"pt-BR",api_key:D},i)).map(r=>r.join("=")).join("&");return await(await fetch(`${H}${t}${o?"?"+o:""}`)).json()},x={getHomeList:async()=>[{slug:"originals",title:"Originais do Netflix",items:await l("/discover/tv",{with_network:213})},{slug:"trending",title:"Recomendados oara Voc\xEA",items:await l("/trending/all/week")},{slug:"toprated",title:"Em Alta",items:await l("/movie/top_rated")},{slug:"action",title:"A\xE7\xE3o",items:await l("/discover/movie",{with_genres:28})},{slug:"comedy",title:"Com\xE9dia",items:await l("/discover/movie",{with_genres:35})},{slug:"horror",title:"Terror",items:await l("/discover/movie",{with_genres:27})},{slug:"romance",title:"Romance",items:await l("/discover/movie",{with_genres:10749})},{slug:"documentary",title:"Document\xE1rios",items:await l("/discover/movie",{with_genres:99})}],getMovieInfo:async(t,i)=>{switch(i){case"movie":return await l(`/movie/${t}`);case"tv":return await l(`/tv/${t}`)}}};function P(){const t="https://image.tmdb.org/t/p/original",[i,o]=g.exports.useState([]),[n,a]=g.exports.useState(!1),[r,s]=g.exports.useState(!1),d=async u=>new Promise((h,f)=>{const m=new Image;m.src=u,m.onload=()=>h(!0)}),v=async u=>{let h=Math.floor(Math.random()*(u.length-1)),f=u[h],m=await x.getMovieInfo(f.id,"tv");await d(`${t}${m.backdrop_path}`),a(m),setTimeout(()=>{v(u)},15e3)},N=()=>{s(window.scrollY>10)};return g.exports.useEffect(()=>{(async()=>{let h=await x.getHomeList();o(h);const f=h.find(m=>m.slug==="originals");if(f){const m=f.items.results.filter(y=>y.backdrop_path);await v(m)}})()},[]),g.exports.useEffect(()=>(window.addEventListener("scroll",N),()=>{window.removeEventListener("scroll",N)}),[]),c(w.Fragment,{children:[e(j,{black:r}),n?e(B,{movie:n}):"",e("main",{className:"page",children:e("section",{className:"lists",children:i.map((u,h)=>e(O,p({},u),h))})}),e(I,{}),i.length?"":e(S,{})]})}function T(){return e("div",{className:"App",children:e(P,{})})}M.render(e(w.StrictMode,{children:e(T,{})}),document.getElementById("root"));
